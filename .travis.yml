language: ruby
rvm:
- 2.2.4
before_install: gem update --remote bundler
install:
- bundle install --retry=3
script:
- bundle exec rspec
- bundle exec rubocop --config .rubocop.yml
services: "-postgresql"
env:
- secure: "xuGaVgKgt2c0LB2xIdT8GGb9yIuM+ZysEb1lTpKPSTMBRiyST8y+0xChF7277D8TVJymhfAv338pHet7yt9hlEn3Xs00BbAZ8G44X3HTTBJlFvQHvxtlgA3kD9yw0kGmi68UU1nYgm9vtTVPAUs8EdTHzWL22vgg/HbVre71sKLd48X/zKsJicdHD5KZkoFjyd57sO7+J571QT7aNncW+jJuQx6sT88WGzo8pBn5NwnorzPaqPwduLkuzfQ+RmVt0QlRdvRrrwsoNdqNtEVWdMfCGr3+S/cyl9JTbC3pa6MmXewGLV7tGtZy6+VIdvG4iMHl9RshOd6Cx8RtFqHJwTodYQJl3FHM4ipD9QeqRRcXXArMzFSWf16pzFXjS68nBDahrcjIDwkPHM34Mr9bBF0quxaz2VkvvUxpVjrBJj/PRGmQE0QdQ+eMD0XxdJSraO/1SNIfnkbWIbDZAqpxo1DEIfwpozF/F1Zjjo3Wu0MfrM1yg1y0jfpRiVDKZlz1YJwbDagKhCq7i+zD0QlFweByUjkwxiY2sRZtlw9BSiQnT74CyxxgMed6vzFvSB4n7SnBrd6mjaiYVy85eR1Pafoby+5fLsVSBCQVBwbfGV8lAyjmrBmsxJhLbEhWsHgqZfC1Ly2yjfs0c/Azy8Q7Zx/o57zTji3ypKNWlT/5DOE="
- secure: "WB743cUjg474KgGaQxaeA8SFM35ei6dW3JfnRNeD102vRLGu32xjNacO4xtqWs3AARktgKNG184/+o+tMkXPAlWchwYJvE2ekc5PlA8BjlK9swpnF62GEE0JLLGrjq+ysPmiOjhr2Skazsd7nPFyftY6M0MlbaHsSoUF++znkZfevGuJk21Sv7MEsZ7WmOmdfi3MOxFc128GQYuxssl5Rs/a7isWSKCcex4J9nPBktcBswBnQgUCnbRywmHvUEAnCpLZoQi9nYNAv3w4W9BWvnWBsor5cvXuZV1biesq9gpQTNAHX9Rl8xIiAu7NfYljlvpVouaju6+5GOcl0fOl0wbmzh1elI+7avanGWROWR47pgAgM9KkNyFU7TX1YJ4aqpd8QpFJGC2BBl9BjFxtf8TSuP2Kp+uGYSWviOLH0udOC9zaj4AMZVOt1DkxJTBp0/lk1jvqxTCK0rIR9rKpXhpI2XqbpmFCOs9dIIlP327gAFV1p7LXfFkEsAgLlSzhiknZEDAOxrRn5VHcWzJYTiWv+lO8tEmsQYysVlUzXtNoDf4duy90GZavPfWlKosBqonxcxWDLmYoWGB0CjwogNnapcePw29hNMwpPqknVH9fDwnohje4Q8I68pnIhiYUSPW9QLJ8aHNyEyrcqN4R9IsYBnVaovqOEy6WHi26ORs="
- secure: "cL9sOJGs0WzVnapFFLh2clE0udYwRJ8uqEFGxdRigQc1dBIGtKlkGijC8ze6wTaTjO9l2FIJxPspBTy++l+5NV4+NUxaDgsZ4pl5eCkPQgUZd91yX7TAM9EIOawJuk4awOsA9Le2WOFGAB7TRwu7c+4EhMucQv4swO3t3X4r92mpjwlo8gNsNXipTa0lyfuVsYr19bxDPUWKNpIW1ejY6euiGfn4ljmi6/jTLndGOelCl08D56pdJyksG1RnGv3x8fJ9O6c41l+528N1ivehZJdJtufDu22ZvGz/BYBvqDqY2zZiURDIeJCh3SqK3kB/mAbHS4OOWgYR4ukKt0N2pt78zKJa95EtPFwz0y5JypiaWWQQpRioKr2O9RWPeun4iGOZa0u5wmbOqw39FmANQ4oIn/sZ83yL6/7AHbE0Q8mGI6QGA6dvk+HmWtoUfKyDLTI5kqqobEwC6xhIM9HA+SzcZj8sAdWFyxNiK/RhF93mlbMsdKBINOw7vEjR28U+ZtwcXRUmXY/9HfUxmxhdo3D3ANpCQHhglO/j5jJLO3021ds1k8oEU5AN9CFZfbdF3vIIIo6vU8JDwuriJX2KrddVoFfONbrz+rIWDONkM9wUevkFlHQKfsZszLZc8HIj/TcHE3g2pol+iGrv/qT6dXmVdtM+wHiMpdfU3iyganw="
script:
- bundle exec rake db:test:prepare
- bundle exec rspec
- bundle exec rubocop
deploy:
  provider: heroku
  run: "rake db:migrate"
  api_key:
    secure: 459db56a-dcee-4b7f-b896-fbbb6b681bf6
  app: chess-fusion
  on:
    repo: Team-Chess-Fusion/chess-fusion